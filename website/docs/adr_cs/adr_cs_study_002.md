# ç¬¬2ç« ï¼šADRã®åŸºæœ¬ãƒ†ãƒ³ãƒ—ãƒ¬ã‚’è¦šãˆã‚ˆã†ï¼ˆå‹ãŒã‚ã‚‹ã¨æœ€å¼·ï¼‰ğŸ§©ğŸ“„

## ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ğŸ¯

ADRã‚’ã€Œè¿·ã‚ãšæ›¸ã‘ã‚‹ã€ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã€ã¾ãšã¯ **å®šç•ªãƒ†ãƒ³ãƒ—ãƒ¬ï¼ˆå‹ï¼‰** ã‚’ä½“ã«å…¥ã‚Œã¾ã™ğŸ’ªâœ¨
å‹ã•ãˆè¦šãˆã‚Œã°ã€å†…å®¹ãŒå¤šå°‘ã–ã£ãã‚Šã§ã‚‚ **â€œå¾Œã‹ã‚‰èª­ã‚ã‚‹ADRâ€** ã«ãªã‚Šã¾ã™ğŸ“šğŸ’•

---

## 1) ADRã®æœ€å°ã‚»ãƒƒãƒˆã¯ã“ã‚Œï¼ğŸ§ âœ…

![](./picture/adr_cs_study_002_template_structure.png)

ADRã¯åŸºæœ¬çš„ã« **1ã¤ã®åˆ¤æ–­** ã‚’ã€ã ã„ãŸã„æ¬¡ã®è¦ç´ ã§è¨˜éŒ²ã—ã¾ã™ğŸ‘‡
**Title / Status / Context / Decision / Consequences** ãŒå®šç•ªã§ã™ğŸ§¾âœ¨ ([Architectural Decision Records][1])

### âœ… æœ€å°ã®3ç‚¹ã‚»ãƒƒãƒˆï¼ˆã¾ãšã¯ã“ã“ã‹ã‚‰ï¼ï¼‰

* **Contextï¼ˆèƒŒæ™¯ï¼‰**ï¼šãªãœä»Šãã‚Œã‚’æ±ºã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ï¼Ÿã©ã‚“ãªç—›ã¿ï¼Ÿåˆ¶ç´„ã¯ï¼ŸğŸ˜£ğŸ“Œ
* **Decisionï¼ˆæ±ºå®šï¼‰**ï¼šçµè«–ã¯ä½•ï¼Ÿã€Œã€œã™ã‚‹ã€ã¨è¨€ã„åˆ‡ã‚‹âœ…âœï¸
* **Consequencesï¼ˆçµæœï¼‰**ï¼šè‰¯ã„ã“ã¨ãƒ»å›°ã‚‹ã“ã¨ï¼ˆãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ï¼‰âš–ï¸ğŸ’¦

> ã“ã®3ã¤ãŒæ›¸ã‘ãŸã‚‰ã€ã‚‚ã†ADRã¨ã—ã¦æˆç«‹ã—ã¦ã¾ã™ğŸ™†â€â™€ï¸âœ¨ ([Architectural Decision Records][1])

```mermaid
graph LR
  Context[Context<br/>èƒŒæ™¯/åˆ¶ç´„] --> Decision[Decision<br/>æ±ºå®šäº‹é …]
  Decision --> Consequences[Consequences<br/>çµæœ/ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•]
  
  style Context fill:#E6F7FF,stroke:#3399FF
  style Decision fill:#E8FFE6,stroke:#33CC66
  style Consequences fill:#FFF7E6,stroke:#FFAA33
```

---

## 2) è¿½åŠ ã§ã‚ˆãå…¥ã‚Œã‚‹é …ç›®ï¼ˆè¶…ãŠã™ã™ã‚ï¼‰â•ğŸ§©

![](./picture/adr_cs_study_002_status_badges.png)

ã€Œèª­ã‚€äººãŒè¿·å­ã«ãªã‚‰ãªã„ã€ãŸã‚ã«ã€æ¬¡ã‚‚ã‚»ãƒƒãƒˆã§è¦šãˆã‚‹ã¨å¼·ã„ã‚ˆã€œğŸ’ªğŸ˜Š

### ğŸŸ¡ Statusï¼ˆçŠ¶æ…‹ï¼‰â€¦ã“ã‚Œè¶…å¤§äº‹ï¼

ã‚ˆãã‚ã‚‹ä¾‹ğŸ‘‡

* **Proposed**ï¼ˆææ¡ˆä¸­ï¼‰ğŸ’­
* **Accepted**ï¼ˆæ¡ç”¨ï¼‰âœ…
* **Superseded**ï¼ˆç½®ãæ›ãˆæ¸ˆã¿ï¼‰ğŸ”
* **Deprecated**ï¼ˆéæ¨å¥¨ï¼‰ğŸ§¯

â€» â€œã‚ã¨ã§æ–°ADRã§ç½®ãæ›ãˆã‚‹â€é‹ç”¨ãŒåŸºæœ¬ãªã®ã§ã€**Superseded** ã¯é »å‡ºã§ã™ğŸ” ([architectviewmaster.com][2])

### ğŸŸ¡ Dateï¼ˆã„ã¤æ±ºã‚ãŸï¼Ÿï¼‰ğŸ“…

ã€Œå½“æ™‚ã®å‰æã€ã‚’æ€ã„å‡ºã™åŠ©ã‘ã«ãªã‚Šã¾ã™ğŸ•°ï¸
ï¼ˆä¾‹ï¼š2026-01-13 ã¿ãŸã„ã«ISOã§OKï¼‰

### ğŸŸ¡ Linksï¼ˆé–¢é€£ãƒªãƒ³ã‚¯ï¼‰ğŸ”—

* é–¢é€£Issue / PR
* è¨­è¨ˆãƒ¡ãƒ¢
* ç½®ãæ›ãˆå…ˆADRï¼ˆSuperseded by: 0007-...ï¼‰ãªã©

---

## 3) â€œé‹ç”¨ãƒ«ãƒ¼ãƒ«â€ã®åŸºæœ¬ï¼š1åˆ¤æ–­ï¼1ãƒ•ã‚¡ã‚¤ãƒ« ğŸ“„âœ…

![](./picture/adr_cs_study_002_one_file_rule.png)

ADRã¯ **1ã¤ã®åˆ¤æ–­ã‚’ã€1ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†ã‘ã‚‹** ã®ãŒåŸºæœ¬ã§ã™ğŸ“Œ
åˆ¤æ–­ãŒ2ã¤æ··ã–ã‚‹ã¨ã€ã‚ã¨ã§èª­ã‚€ã¨ãã«ã€Œçµå±€ã©ã‚Œã®è©±ï¼Ÿã€ã£ã¦ãªã‚ŠãŒã¡ğŸ˜µâ€ğŸ’«

### ğŸ”¢ å‘½åã®å‹ï¼ˆå®šç•ªï¼‰

* `0001-logging-strategy.md`
* `0002-exception-handling.md`

é€£ç•ªï¼‹çŸ­ã„ã‚¿ã‚¤ãƒˆãƒ«ã ã¨æ¤œç´¢ã‚‚ã—ã‚„ã™ã„ã§ã™ğŸ”âœ¨ ([A nice guy's view on life][3])

### âœ¨ ã€ŒçŸ­ãã€ãƒ«ãƒ¼ãƒ«ã®ç›®å®‰

* ã¾ãšã¯ **1ãƒšãƒ¼ã‚¸ï¼ˆã ã„ãŸã„300ã€œ600å­—ï¼‹ç®‡æ¡æ›¸ãï¼‰** ã‚’ç›®æ¨™ã§OKğŸ‘ŒğŸ˜Š
* é•·ããªã‚‹ãªã‚‰ **â€œåˆ¤æ–­ãŒè¤‡æ•°â€** ã®ã‚µã‚¤ãƒ³ã‹ã‚‚âœ‚ï¸

```mermaid
graph LR
    Prob[å•é¡Œç™ºç”ŸğŸ’¥] --> Draft[ADRä¸‹æ›¸ãğŸ“]
    Draft -->|PR/MTG| Review[ãƒãƒ¼ãƒ ãƒ¬ãƒ“ãƒ¥ãƒ¼ğŸ‘€]
    Review -->|æ‰¿èª| Accepted[Staus: Acceptedâœ…]
    Review -->|å´ä¸‹| Rejected[Status: RejectedğŸš«]
    Accepted --> Commit[ãƒªãƒã‚¸ãƒˆãƒªã«ä¿å­˜ğŸ’¾]
```

---

## 4) ã™ãä½¿ãˆã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ï¼ˆã‚³ãƒ”ãƒšOKï¼‰ğŸª„ğŸ“„

ã¾ãšã¯ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ã§å›ºå®šã—ã¡ã‚ƒã†ã®ãŒä¸€ç•ªãƒ©ã‚¯ã§ã™ğŸ˜Š
ï¼ˆADRã®å®šç•ªæ§‹é€ ã«æ²¿ã£ã¦ã¾ã™âœ¨ï¼‰ ([Architectural Decision Records][1])

```md
# ADR 0001: ï¼ˆçŸ­ã„ã‚¿ã‚¤ãƒˆãƒ«ï¼‰

## Status
Proposed

## Context
- ï¼ˆãªã«ãŒå•é¡Œï¼Ÿã©ã‚“ãªç—›ã¿ï¼Ÿï¼‰
- ï¼ˆåˆ¶ç´„ã¯ï¼ŸæœŸé™ãƒ»æ—¢å­˜è³‡ç”£ãƒ»ãƒãƒ¼ãƒ éƒ½åˆãªã©ï¼‰
- ï¼ˆç¾çŠ¶ã¯ã©ã†ãªã£ã¦ã‚‹ï¼Ÿï¼‰

## Decision
- ï¼ˆçµè«–ï¼šã€œã‚’æ¡ç”¨ã™ã‚‹ / ã€œã—ãªã„ï¼‰
- ï¼ˆç†ç”±ï¼šãªãœãã‚ŒãŒä»Šã„ã¡ã°ã‚“è‰¯ã„ï¼Ÿï¼‰

## Consequences
### Good ğŸ‘
- ï¼ˆè‰¯ããªã‚‹ã“ã¨ï¼‰

### Bad / Trade-offs ğŸ˜µ
- ï¼ˆå›°ã‚‹ã“ã¨ãƒ»å¤±ã†ã‚‚ã®ï¼‰
- ï¼ˆé‹ç”¨ã§æ³¨æ„ã™ã‚‹ã“ã¨ï¼‰

## Links
- Issue: #
- PR: #
- Related: ï¼ˆURLã‚„ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ï¼‰
```

---

## 5) ã‚µãƒ³ãƒ—ãƒ«ADRã‚’èª­ã‚“ã§ã€Œ3è¦ç´ ã«è‰²åˆ†ã‘ã€ã—ã¦ã¿ã‚ˆã†ğŸ–ï¸ğŸ˜Š

é¡Œæã¯C#ã ã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã‚„ã™ã„ã‚ˆã†ã«ã€**ãƒ­ã‚°æ–¹é‡**ã«ã—ã¦ã¿ã‚‹ã­ğŸªµâœ¨
ï¼ˆ.NET 10 / C# 14 ãŒæœ€æ–°ãƒ©ã‚¤ãƒ³ã§ã™ğŸ“Œï¼‰ ([Microsoft for Developers][4])

```md
# ADR 0001: Logging strategy for small services

## Status
Accepted

## Context
- ç¾çŠ¶ã¯ Console.WriteLine ãŒæ··åœ¨ã—ã¦ã„ã¦ã€ãƒ­ã‚°å½¢å¼ãŒãƒãƒ©ãƒãƒ©ã€‚
- éšœå®³èª¿æŸ»ã§ã€Œã„ã¤ãƒ»ã©ã®å‡¦ç†ãƒ»ã©ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ãŒè¿½ã„ã¥ã‚‰ã„ã€‚
- ã¾ãšã¯å°è¦æ¨¡ã‚µãƒ¼ãƒ“ã‚¹å‘ã‘ã«ã€å°å…¥ãŒè»½ã„æ–¹é‡ãŒã»ã—ã„ã€‚

## Decision
- Microsoft.Extensions.Logging ã‚’ãƒ™ãƒ¼ã‚¹ã«çµ±ä¸€ã™ã‚‹ã€‚
- è¿½åŠ ã®å‡ºåŠ›å…ˆï¼ˆãƒ•ã‚¡ã‚¤ãƒ«/å¤–éƒ¨ï¼‰ã‚„æ§‹é€ åŒ–ãƒ­ã‚°ã¯å¿…è¦ã«ãªã£ãŸæ™‚ç‚¹ã§æ‹¡å¼µã™ã‚‹ã€‚

## Consequences
### Good ğŸ‘
- ãƒ­ã‚°APIãŒçµ±ä¸€ã•ã‚Œã€æœ€ä½é™ã®æ•´å½¢ãŒã§ãã‚‹ã€‚
- ä¾å­˜ãŒæ¨™æº–å¯„ã‚Šã§ã€å°å…¥ãŒè»½ã„ã€‚

### Bad / Trade-offs ğŸ˜µ
- ã™ãã«é«˜åº¦ãªæ¤œç´¢ãƒ»é›†ç´„ã¾ã§ã¯æ‰‹ã«å…¥ã‚‰ãªã„ã€‚
- æ§‹é€ åŒ–ãƒ­ã‚°ã‚„å¤–éƒ¨åŸºç›¤ã¯å°†æ¥è¿½åŠ ã®åˆ¤æ–­ãŒå¿…è¦ã€‚

## Links
- Issue: #123
- PR: #130
```

### ğŸ§ª ãƒŸãƒ‹æ¼”ç¿’ï¼ˆ3åˆ†ï¼‰â±ï¸

1. ä¸Šã®ã‚µãƒ³ãƒ—ãƒ«ã‹ã‚‰ **Context / Decision / Consequences** ã‚’ãã‚Œãã‚Œæ¢ã™ğŸ”
2. ãã‚Œãã‚Œã®è¡Œã®å…ˆé ­ã«ã€çµµæ–‡å­—ã‚¿ã‚°ã‚’ä»˜ã‘ã¦ã€Œè‰²åˆ†ã‘ã€ã—ã¦ã¿ã¦ã­ğŸ‘‡

   * ğŸ§© Context
   * âœ… Decision
   * âš–ï¸ Consequences

ä¾‹ï¼š

* ğŸ§© ç¾çŠ¶ã¯ Console.WriteLine ãŒæ··åœ¨ã—ã¦ã„ã¦â€¦

---

## 6) â€œæ–‡ç« ã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ã«å½“ã¦ã¯ã‚ã‚‹â€ç·´ç¿’ï¼ˆå¤‰æ›ã‚²ãƒ¼ãƒ ï¼‰ğŸ®âœ¨

### ãŠé¡Œï¼ˆãã¡ã‚ƒã£ã¨ãƒ¡ãƒ¢ï¼‰ğŸŒ€

> ãƒ­ã‚°ã¯ä»Š Console.WriteLine ã¨ ILogger ãŒæ··ã–ã£ã¦ã‚‹ã€‚
> ã¨ã‚Šã‚ãˆãšçµ±ä¸€ã—ãŸã„ã€‚
> ã§ã‚‚å¤–éƒ¨ã®ãƒ­ã‚°åŸºç›¤ã¯ã¾ã æ—©ã„æ°—ãŒã™ã‚‹ã€‚
> å­¦ç¿’ã‚³ã‚¹ãƒˆã‚‚ä¸Šã’ãŸããªã„ã€‚

### âœï¸ ã‚ãªãŸã®ä½œæ¥­

ã“ã®ãƒ¡ãƒ¢ã‚’ã€ãƒ†ãƒ³ãƒ—ãƒ¬ã® **Context / Decision / Consequences** ã«åˆ†è§£ã—ã¦ã€ç®‡æ¡æ›¸ãã«ã—ã¦ã¿ã‚ˆã†ğŸ§¾âœ¨
ï¼ˆæ­£è§£ã¯1ã¤ã˜ã‚ƒãªã„ã‚ˆğŸ™†â€â™€ï¸ï¼‰

---

## 7) AIæ´»ç”¨ã‚³ãƒ¼ãƒŠãƒ¼ï¼šãƒ†ãƒ³ãƒ—ãƒ¬å¤‰æ›ã‚’AIã«ä¸¸æŠ•ã’ã—ã¦OKğŸª„ğŸ¤–ğŸ’•

â€œè‡ªåˆ†ã§ã‚¼ãƒ­ã‹ã‚‰æ›¸ãâ€ã‚ˆã‚Šã€**AIã«ä¸‹æ›¸ãã‚’ä½œã‚‰ã›ã¦ç›´ã™** ã»ã†ãŒé€Ÿã„ã§ã™âš¡

### âœ… ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹ï¼ˆãã®ã¾ã¾ä½¿ãˆã‚‹ï¼‰ğŸ’¬

```text
ä»¥ä¸‹ã®æ–‡ç« ã‚’ADRãƒ†ãƒ³ãƒ—ãƒ¬ã«å¤‰æ›ã—ã¦ã€‚
å‡ºåŠ›ã¯ Markdown ã§ã€è¦‹å‡ºã—ã¯ Status / Context / Decision / Consequences / Linksã€‚
Decision ã¯è¨€ã„åˆ‡ã‚Šã§1ã€œ2æ–‡ã€‚
Consequences ã¯ Good ã¨ Bad/Trade-offs ã‚’å¿…ãšä¸¡æ–¹å‡ºã—ã¦ã€‚

--- å¯¾è±¡æ–‡ç«  ---
ï¼ˆã“ã“ã«ãƒ¡ãƒ¢ã‚’è²¼ã‚‹ï¼‰
```

### âœ… è¿½åŠ ã§ã‚‚ã†ä¸€ç™ºï¼ˆå“è³ªãŒä¸ŠãŒã‚‹ã‚„ã¤ï¼‰ğŸŒŸ

```text
ä¸Šã®ADRã«ã¤ã„ã¦ã€èª­ã¿æ‰‹ãŒè¿·ã†ãƒã‚¤ãƒ³ãƒˆï¼ˆå‰æä¸è¶³ãƒ»æ›–æ˜§ãªè¡¨ç¾ï¼‰ã‚’3ã¤æŒ‡æ‘˜ã—ã¦ã€
ãã‚Œãã‚Œã‚’çŸ­ãç›´ã—ãŸæ”¹å–„æ¡ˆã‚‚å‡ºã—ã¦ã€‚
```

---

## 8) ã‚ˆãã‚ã‚‹å¤±æ•—ã‚ã‚‹ã‚ã‚‹ï¼ˆå…ˆã«æ½°ã™ï¼‰ğŸ˜‚ğŸ§¯

* âŒ DecisionãŒã€Œæ¤œè¨ã™ã‚‹ã€ã€Œã€œã®äºˆå®šã€ã¿ãŸã„ã«æ›–æ˜§
  â†’ âœ… ã€Œã€œã‚’æ¡ç”¨ã™ã‚‹ã€ã€Œã€œã—ãªã„ã€ã¨è¨€ã„åˆ‡ã‚‹ğŸ’ª
* âŒ ConsequencesãŒãƒ¡ãƒªãƒƒãƒˆã ã‘
  â†’ âœ… ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚‚æ›¸ãï¼ˆæœªæ¥ã®è‡ªåˆ†ã‚’åŠ©ã‘ã‚‹ï¼‰ğŸ¥¹âœ¨ ([architectviewmaster.com][2])
  â†’ âœ… â€œèª°ãŒèª­ã‚“ã§ã‚‚åŒã˜çŠ¶æ³â€ã«ãªã‚‹ã‚ˆã†ã«ã€ç—›ã¿ãƒ»åˆ¶ç´„ã‚’ç®‡æ¡æ›¸ãğŸ“Œ

```mermaid
graph TD
  Bad[âŒ æ‚ªã„ADR] -->|ãµã‚ãµã‚| B1[æ¤œè¨ã™ã‚‹/ãŸã¶ã‚“]
  Bad -->|ç‰‡æ‰‹è½ã¡| B2[ãƒ¡ãƒªãƒƒãƒˆã—ã‹æ›¸ã‹ãªã„]
  
  Good[âœ… è‰¯ã„ADR] -->|ãƒ“ã‚·ãƒƒã¨| G1[ã€œã¨ã™ã‚‹/ã€œã‚’æ¡ç”¨ã™ã‚‹]
  Good -->|æ­£ç›´ã«| G2[ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚‚æ›¸ã]
```

---

## 9) ã“ã®ç« ã®ã¾ã¨ã‚ğŸâœ¨

* ADRã¯ã¾ãš **Context / Decision / Consequences** ã®3ç‚¹ã‚»ãƒƒãƒˆã§OKğŸ§©âœ…âš–ï¸
* ãã“ã« **Status / Date / Links** ã‚’è¶³ã™ã¨ã€é‹ç”¨ã§å¼·ã„ğŸ“ŒğŸ”—
* **1åˆ¤æ–­ï¼1ãƒ•ã‚¡ã‚¤ãƒ«**ã€ãã—ã¦çŸ­ãï¼ğŸ“„âœ¨ ([Architectural Decision Records][1])
* AIã¯ **ãƒ†ãƒ³ãƒ—ãƒ¬å¤‰æ›ä¿‚** ã«ã™ã‚‹ã¨æœ€å¼·ğŸ¤–ğŸª„

---

æ¬¡ã¯ç¬¬3ç« ã§ã€Œ**ã„ã¤ADRã‚’æ›¸ãã¹ãï¼Ÿï¼ˆæ›¸ãã©ãåˆ¤å®šï¼‰**ã€ã«é€²ã‚€ã¨ã€ã•ã‚‰ã«è¿·ã„ãŒæ¸›ã£ã¦ã‚¹ã‚¤ã‚¹ã‚¤ã«ãªã‚Šã¾ã™ã‚ˆã€œğŸ”âœ…ğŸ˜Š

[1]: https://adr.github.io/adr-templates/?utm_source=chatgpt.com "ADR Templates | Architectural Decision Records"
[2]: https://www.architectviewmaster.com/blog/building-an-architecture-decision-record-adr-library/?utm_source=chatgpt.com "Building an Architecture Decision Record (ADR) Library"
[3]: https://jon.sprig.gs/blog/post/2339?utm_source=chatgpt.com "Cross Platform Decision Records/Architectural Decision ... - Jon"
[4]: https://devblogs.microsoft.com/dotnet/announcing-dotnet-10/?utm_source=chatgpt.com "Announcing .NET 10"
