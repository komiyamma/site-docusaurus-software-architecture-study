Controllerに業務・DB・外部都合が混在する構造は変更に弱いため、純粋ロジックの抽出、UseCaseへの移行、Portによる外部隠蔽で依存を分離すべきです。