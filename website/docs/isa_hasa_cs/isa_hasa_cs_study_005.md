# ç¬¬5ç« ã€€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å…¥é–€ï¼šå·®ã—æ›¿ãˆã®åœŸå°ğŸ”ŒğŸ™‚

ã“ã®ç« ã¯ã€Œåˆæˆï¼éƒ¨å“ã‚’å·®ã—æ›¿ãˆã‚‰ã‚Œã‚‹ğŸ§©ğŸ”ã€ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®â€œåœŸå°ã¥ãã‚Šâ€ã ã‚ˆã€œï¼âœ¨
ãƒã‚¤ãƒ³ãƒˆã¯ã€**å®Ÿè£…ï¼ˆå…·ä½“ï¼‰ã˜ã‚ƒãªãã¦ã€å¥‘ç´„ï¼ˆinterfaceï¼‰ã«ä¾å­˜ã™ã‚‹**ã£ã¦æ„Ÿè¦šğŸ˜ŠğŸ“œ

---

## 0. ä»Šæ—¥ã®ã‚´ãƒ¼ãƒ«ğŸ¯âœ¨

ã“ã®ç« ãŒçµ‚ã‚ã‚‹ã¨ã€ã“ã‚“ãªã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ˆğŸ«¶

* `interface` ã‚’ã€Œå¥‘ç´„ğŸ“œã€ã¨ã—ã¦èª¬æ˜ã§ãã‚‹ğŸ™‚
* 1ã¤ã®æ©Ÿèƒ½ã‚’ **å®Ÿè£…2ç¨®é¡** ç”¨æ„ã—ã¦ã€åˆ‡ã‚Šæ›¿ãˆã§ãã‚‹ğŸ”
* â€œåˆ©ç”¨å´â€ãŒå®Ÿè£…ã®é•ã„ã‚’çŸ¥ã‚‰ãªãã¦ã„ã„çŠ¶æ…‹ã«ã§ãã‚‹ï¼ˆï¼åˆæˆã—ã‚„ã™ã„ï¼‰ğŸ§©

---

## 1. interfaceã£ã¦ãªã«ï¼Ÿï¼ˆã–ã£ãã‚Šã§OKï¼‰ğŸ§ ğŸ’¡

![Interface Contract](./picture/isa_hasa_cs_study_005_interface_contract.png)

## interfaceï¼ã€Œã“ã‚ŒãŒã§ãã‚‹ã£ã¦ç´„æŸã—ã¦ã­ğŸ“œã€

* ã‚¯ãƒ©ã‚¹ã®ä¸­èº«ï¼ˆã©ã†ã‚„ã‚‹ã‹ï¼‰ã˜ã‚ƒãªãã¦ã€**å¤–ã‹ã‚‰è¦‹ãˆã‚‹æŒ¯ã‚‹èˆã„ï¼ˆä½•ãŒã§ãã‚‹ã‹ï¼‰**ã‚’æ±ºã‚ã‚‹ã‚ˆğŸ™‚
* ã ã‹ã‚‰ã€**å®Ÿè£…ãŒå¤‰ã‚ã£ã¦ã‚‚åˆ©ç”¨å´ãŒå›°ã‚‰ãªã„**ã®ãŒå¼·ã„ğŸ’ªâœ¨

ãŸã¨ãˆã°â€¦

* `INotifier`ï¼šé€šçŸ¥ã§ãã‚‹ğŸ“£
* `IPaymentGateway`ï¼šæ”¯æ‰•ã„ã§ãã‚‹ğŸ’³
* `IClock`ï¼šç¾åœ¨æ™‚åˆ»ãŒå–ã‚Œã‚‹âŒš

ã¿ãŸã„ã«ã€Œã§ãã‚‹ã“ã¨ã€ã«åå‰ã‚’ã¤ã‘ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ğŸ˜Š

---

## 2. åˆæˆã¨interfaceã®é–¢ä¿‚ğŸ§©ğŸ”Œ

åˆæˆå„ªå…ˆã§å¬‰ã—ã„ã“ã¨ã®1ã¤ãŒã“ã‚ŒğŸ‘‡
**â€œéƒ¨å“ã‚’å·®ã—æ›¿ãˆã‚‰ã‚Œã‚‹â€ï¼å¤‰æ›´ã«å¼·ã„ğŸ›¡ï¸**

ã§ã‚‚ã€å·®ã—æ›¿ãˆã™ã‚‹ã«ã¯ã€Œå·®ã—æ›¿ãˆå£ã€ãŒå¿…è¦ãªã®ã­ğŸ”Œ
ãã®å·®ã—æ›¿ãˆå£ãŒ **interface** ã ã‚ˆã€œï¼âœ¨

* åˆ©ç”¨å´ï¼š`interface` ã«ä¾å­˜ï¼ˆï¼å¥‘ç´„ã ã‘çŸ¥ã£ã¦ã‚‹ï¼‰ğŸ™‚
* å®Ÿè£…å´ï¼šå¥‘ç´„ã‚’æº€ãŸã™ã‚¯ãƒ©ã‚¹ã‚’ä½œã‚‹ï¼ˆï¼ä¸­èº«ã¯è‡ªç”±ï¼‰ğŸ§‘â€ğŸ”§

---

## 3. ãƒãƒ³ã‚ºã‚ªãƒ³ğŸ§ªï¼šé€šçŸ¥ã‚’å·®ã—æ›¿ãˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ğŸ“£ğŸ”

é¡Œæï¼š**æ³¨æ–‡ãŒç¢ºå®šã—ãŸã‚‰é€šçŸ¥ã™ã‚‹**ğŸ“¦âœ¨
é€šçŸ¥æ–¹æ³•ã‚’å¾Œã‹ã‚‰å¢—ã‚„ã—ãŸã„ï¼ˆConsoleé€šçŸ¥â†’ãƒ¡ãƒ¼ãƒ«é€šçŸ¥â€¦ã¿ãŸã„ãªï¼‰ã£ã¦ã€ã‚ã¡ã‚ƒç¾å ´ã‚ã‚‹ã‚ã‚‹ğŸ˜‡

## 3-1. ã¾ãšã¯ â€œå·®ã—æ›¿ãˆä¸å¯â€ ãªä¾‹ï¼ˆã¤ã‚‰ã•ä½“é¨“ğŸ˜±ï¼‰

```csharp
public class OrderService
{
    public void PlaceOrder()
    {
        // æ³¨æ–‡å‡¦ç†...
        var notifier = new ConsoleNotifier(); // â† ã“ã“ã§å…·ä½“ã‚¯ãƒ©ã‚¹ã«ç›´ä¾å­˜ğŸ˜‡
        notifier.Notify("æ³¨æ–‡ãŒç¢ºå®šã—ã¾ã—ãŸï¼");
    }
}

public class ConsoleNotifier
{
    public void Notify(string message)
        => Console.WriteLine($"[Console] {message}");
}
```

ã“ã‚Œã€é€šçŸ¥ã‚’ãƒ¡ãƒ¼ãƒ«ã«ã—ãŸããªã£ãŸã‚‰â€¦ï¼Ÿ
`OrderService` ã‚’ç·¨é›†ã™ã‚‹ã“ã¨ã«ãªã‚‹ã‚ˆã­ğŸ˜µâ€ğŸ’«
ã€Œå¤‰æ›´ãŒåˆ©ç”¨å´ã¾ã§æ³¢åŠã™ã‚‹ã€ã®ãŒç—›ã„ãƒã‚¤ãƒ³ãƒˆğŸ’¥

---

## 3-2. interfaceã§â€œå·®ã—æ›¿ãˆå£â€ã‚’ä½œã‚‹ğŸ”Œâœ¨

ã¾ãšå¥‘ç´„ã‚’ä½œã‚‹ã‚ˆğŸ“œ

```csharp
public interface INotifier
{
    void Notify(string message);
}
```

æ¬¡ã«å®Ÿè£…ã‚’2ç¨®é¡ä½œã‚‹ã‚ˆã€œğŸ”
ï¼ˆConsoleé€šçŸ¥ã¨ã€ãƒ†ã‚¹ãƒˆç”¨ã®æ“¬ä¼¼é€šçŸ¥ã§ã‚‚OKï¼ã“ã“ã§ã¯ Email é¢¨ã«ã—ã¦ã¿ã‚‹ğŸ“§ï¼‰

```csharp
public class ConsoleNotifier : INotifier
{
    public void Notify(string message)
        => Console.WriteLine($"[Console] {message}");
}

public class EmailNotifier : INotifier
{
    public void Notify(string message)
        => Console.WriteLine($"[Email] {message}"); // ä»Šã¯é›°å›²æ°—ã ã‘ğŸ“§
}
```

---

## 3-3. åˆ©ç”¨å´ã¯ã€Œå¥‘ç´„ã ã‘ã€çŸ¥ã‚‹ğŸ™‚ğŸ“œï¼ˆã“ã“ãŒæœ¬é¡Œï¼ï¼‰

`OrderService` ã¯ `INotifier` ã«ã ã‘ä¾å­˜ã™ã‚‹ã‚ˆğŸ§©

```csharp
public class OrderService
{
    private readonly INotifier _notifier;

    public OrderService(INotifier notifier) // â† å·®ã—æ›¿ãˆå£ã‹ã‚‰å—ã‘å–ã‚‹ğŸ
    {
        _notifier = notifier;
    }

    public void PlaceOrder()
    {
        // æ³¨æ–‡å‡¦ç†...
        _notifier.Notify("æ³¨æ–‡ãŒç¢ºå®šã—ã¾ã—ãŸï¼");
    }
}
```

```mermaid
classDiagram
    class OrderService {
        +PlaceOrder()
    }
    class INotifier {
        <<interface>>
        +Notify(message)
    }
    class ConsoleNotifier {
        +Notify(message)
    }
    class EmailNotifier {
        +Notify(message)
    }

    OrderService --> INotifier : ä¾å­˜ (å¥‘ç´„)
    INotifier <|.. ConsoleNotifier : å®Ÿè£…
    INotifier <|.. EmailNotifier : å®Ÿè£…
```

---

## 3-4. â€œçµ„ã¿ç«‹ã¦å ´æ‰€â€ã§å·®ã—æ›¿ãˆã‚‹ğŸ”§ğŸ”ï¼ˆnewã™ã‚‹å ´æ‰€ã‚’å¯„ã›ã‚‹ï¼‰

```csharp
// Program.csï¼ˆèµ·å‹•åœ°ç‚¹ï¼‰
INotifier notifier = new ConsoleNotifier();
// INotifier notifier = new EmailNotifier();  // â† å·®ã—æ›¿ãˆã¯ã“ã“ã ã‘ï¼âœ¨

var orderService = new OrderService(notifier);
orderService.PlaceOrder();
```

âœ… çµæœï¼šé€šçŸ¥æ–¹æ³•ã‚’å¤‰ãˆã¦ã‚‚ã€`OrderService` ã¯ä¸€åˆ‡å¤‰æ›´ã—ãªã„ã§OKğŸ‰
ã“ã‚ŒãŒã€Œåˆæˆã—ã‚„ã™ã„å½¢ã€ã ã‚ˆğŸ§©âœ¨

---

## 4. å‘½åã®ã‚³ãƒ„ï¼ˆã“ã“è¶…å¤§äº‹ğŸ“âœ¨ï¼‰

## interfaceåã¯ã€Œã§ãã‚‹ã“ã¨ã€ã«ã™ã‚‹ğŸ™‚

* âœ… `INotifier`, `IClock`, `IFileStorage`
* âŒ `INotificationManager`, `IService`, `IUtil`ï¼ˆãµã‚ã£ã¨ã—ã™ãğŸ¥ºï¼‰

## ãƒ¡ã‚½ãƒƒãƒ‰åã¯ã€Œå‹•è©ï¼‹ç›®çš„èªã€ã£ã½ãğŸ§ 

* âœ… `Notify(message)`
* âœ… `Save(text)` / `Load(id)`
* âŒ `Do()` / `Exec()`ï¼ˆä½•ã™ã‚‹ã®ã€œï¼ï¼ŸğŸ˜‡ï¼‰

---

## 5. ã‚ã‚ŠãŒã¡ãªãƒŸã‚¹é›†ï¼ˆå…ˆã«æ½°ãğŸ’£ğŸ˜‚ï¼‰

## âŒ ã€Œã¨ã‚Šã‚ãˆãšinterfaceä½œã£ã¨ã“ã€ç—…

* ã¾ã å·®ã—æ›¿ãˆãªã„ã®ã«ã€ç„¡é™ã« `IXXX` ã‚’å¢—ã‚„ã™ã¨é€†ã«èª­ã¿ã«ãã„ğŸ˜µâ€ğŸ’«
  ğŸ‘‰ **â€œå¤‰ã‚ã‚Šã‚„ã™ã„ã¨ã“ã‚â€ã ã‘** ã«ä½œã‚‹ã®ãŒæ°—æŒã¡ã„ã„âœ¨

## âŒ interfaceã«ãƒ‡ãƒ¼ã‚¿ã‚’è©°ã‚è¾¼ã¿ãŸããªã‚‹

interfaceã¯ã€ŒæŒ¯ã‚‹èˆã„ã®å¥‘ç´„ã€å‘ãğŸ™‚
ãƒ‡ãƒ¼ã‚¿ãªã‚‰ `record` ã‚„æ™®é€šã®ã‚¯ãƒ©ã‚¹ã§OKã ã‚ˆğŸ“¦

## âŒ åˆ©ç”¨å´ãŒå®Ÿè£…ã‚¯ãƒ©ã‚¹ã‚’çŸ¥ã£ã¡ã‚ƒã†

* `if (notifier is EmailNotifier)` ã¨ã‹æ›¸ãå§‹ã‚ãŸã‚‰å±é™ºä¿¡å·ğŸš¨
  ğŸ‘‰ â€œå·®ã—æ›¿ãˆå£â€ã®æ„å‘³ãŒæ¶ˆãˆã¡ã‚ƒã†ã‚ˆã€œğŸ˜­

---

## 6. ã¡ã‚‡ã„æœ€æ–°ãƒ¡ãƒ¢ï¼ˆã§ã‚‚ä»Šã¯æ·±è¿½ã„ä¸è¦ğŸ§ï¼‰

æœ€è¿‘ã®C#ã§ã¯ã€interfaceã‚‚é€²åŒ–ã—ã¦ã¦ã­â€¦ï¼

* interfaceã«**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…**ã‚’æ›¸ã‘ã‚‹ï¼ˆæ—¢å­˜ã®å®Ÿè£…ã‚’å£Šã•ãšæ‹¡å¼µã—ã‚„ã™ã„ï¼‰ğŸ§©âœ¨ ([Microsoft Learn][1])
* interfaceã« **static abstract ãƒ¡ãƒ³ãƒãƒ¼**ã‚’å®šç¾©ã§ãã‚‹ï¼ˆã‚¸ã‚§ãƒãƒªãƒƒã‚¯æ•°å€¤è¨ˆç®—ãªã©ã§æ´»èºï¼‰ğŸ§®âœ¨ ([Microsoft Learn][2])

ãŸã ã—ï¼ã“ã®ç« ã§ã¯ã¾ãš **ã€Œå·®ã—æ›¿ãˆå£ï¼interfaceã€** ãŒä½“ã«å…¥ã‚Œã°OKğŸ˜ŠğŸ«¶

ï¼ˆã‚ã¨ã€ã„ã¾ã® .NET ã¯ **.NET 10ï¼ˆLTSï¼‰** ãŒç¾è¡Œã®è»¸ã«ãªã£ã¦ã‚‹ã‚ˆã€œğŸ“Œ ([Microsoft][3])ï¼‰

---

## 7. ãƒŸãƒ‹èª²é¡Œï¼ˆ10åˆ†ï¼‰ğŸ’âœ¨

ã§ããã†ãªã‚„ã¤ã‹ã‚‰ã§OKã ã‚ˆã€œğŸ§¸ğŸ’•

1. `SmsNotifier` ã‚’è¿½åŠ ã—ã¦ã€Programã§å·®ã—æ›¿ãˆğŸ”ğŸ“±
2. â€œä½•ã‚‚ã—ãªã„é€šçŸ¥â€ `NullNotifier` ã‚’ä½œã‚‹ï¼ˆé€šçŸ¥ä¸è¦ãªå ´é¢ã§ä¾¿åˆ©ï¼‰ğŸ«¥
3. `CompositeNotifier`ï¼ˆè¤‡æ•°é€šçŸ¥ã‚’ã¾ã¨ã‚ã¦å®Ÿè¡Œï¼‰ã‚’ä½œã‚‹ğŸ“£ğŸ“£ğŸ“£

---

## 8. AIæ´»ç”¨ğŸ¤–ğŸ’¬ï¼ˆãã®ã¾ã¾ã‚³ãƒ”ãƒšã§OKï¼‰

* ã€Œ`INotifier` ã¨å®Ÿè£…2ç¨®é¡ã€å‘½åã‚’ã‚‚ã£ã¨åˆ†ã‹ã‚Šã‚„ã™ãæ”¹å–„æ¡ˆã¡ã‚‡ã†ã ã„ğŸ“ã€
* ã€Œã“ã® `OrderService` ã®ä¾å­˜ã‚’ interface ã«å¯„ã›ã‚‹æœ€å°æ‰‹é †ã‚’æ•™ãˆã¦ğŸªœã€
* ã€Œå·®ã—æ›¿ãˆå‰æã§ã€interfaceã‚’å°ã•ãä¿ã¤è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ğŸ”ã€

---

## 9. ã¾ã¨ã‚âœ…âœ¨ï¼ˆã“ã“ã ã‘è¦šãˆã‚Œã°å‹ã¡ğŸ¥‡ï¼‰

* interfaceã¯ **å¥‘ç´„ğŸ“œ**ã€åˆæˆã® **å·®ã—æ›¿ãˆå£ğŸ”Œ**
* åˆ©ç”¨å´ã¯ **å…·ä½“ã‚¯ãƒ©ã‚¹ã˜ã‚ƒãªã interface ã«ä¾å­˜**ğŸ™‚
* å·®ã—æ›¿ãˆã¯ **çµ„ã¿ç«‹ã¦å ´æ‰€ï¼ˆèµ·å‹•åœ°ç‚¹ï¼‰** ã§ã‚„ã‚‹ğŸ”§ğŸ”

æ¬¡ã®ç« ã§ã¯ã€ã“ã®å·®ã—æ›¿ãˆã‚’ã‚‚ã£ã¨æ°—æŒã¡ã‚ˆãã™ã‚‹ **ã€Œå§”è­²ï¼ˆDelegationï¼‰ã€** ã«é€²ã‚€ã‚ˆã€œğŸ’â€â™€ï¸ğŸ“¦âœ¨

[1]: https://learn.microsoft.com/en-us/dotnet/csharp/fundamentals/types/interfaces?utm_source=chatgpt.com "Interfaces - define behavior for multiple types - C#"
[2]: https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/proposals/csharp-11.0/static-abstracts-in-interfaces?utm_source=chatgpt.com "Static abstract members in interfaces - C#"
[3]: https://dotnet.microsoft.com/en-us/platform/support/policy/dotnet-core?utm_source=chatgpt.com "NET and .NET Core official support policy"
